package com.fpt.u0.main;

import javafx.event.Event;
import javafx.geometry.Insets;
import javafx.scene.Scene;
import javafx.scene.control.Button;
import javafx.scene.layout.GridPane;
import javafx.scene.layout.StackPane;
import javafx.stage.Stage;

public class Application extends javafx.application.Application{

	public static void main(String[] args) {
		System.out.println("Launching application...");
		javafx.application.Application.launch(args);
	}

	@Override
	public void start(Stage primaryStage) throws Exception {
		Button[][] btnArray = new Button[5][5];

		GridPane frame = new GridPane();

		frame.setHgap(10);
		frame.setVgap(10);
		frame.setPadding(new Insets(0, 10, 0, 10));

		// Create buttons in array
		for (int i = 0 ; i < 5 ; i++) {
			for (int j = 0 ; j < 5 ; j++) {
				// Create button
				btnArray[i][j] = new Button("   ");
				// Add it to the frame
				frame.add(btnArray[i][j], i+1, j);

				// Set coordinates of button as user data
				btnArray[i][j].setUserData(i+":"+j);

				// Set action handler
				btnArray[i][j].setOnAction(e -> {btnClick(e);});
			}
		}

		// Create scene and prepare stage
		Scene scene = new Scene(frame,200,50);
		primaryStage.setScene(scene);
		primaryStage.setTitle("Hello World");
		primaryStage.show();
	}

	public void btnClick(Event e) {
		Object source = e.getSource();
		if (source instanceof Button) { //should always be true in your example
		    Button clickedBtn = (Button) source; // that's the button that was clicked
		    System.out.println(clickedBtn.getUserData()); // prints the id of the button
		}
	}

}
